2024-12-09 09:17:54.977 +01:00 [INF] Démarrage de l'application
2024-12-09 09:17:55.055 +01:00 [INF] User profile is available. Using 'C:\Users\sprtj\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 09:17:55.321 +01:00 [INF] Now listening on: https://localhost:7210
2024-12-09 09:17:55.321 +01:00 [INF] Now listening on: http://localhost:5267
2024-12-09 09:17:55.358 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-09 09:17:55.358 +01:00 [INF] Hosting environment: Development
2024-12-09 09:17:55.359 +01:00 [INF] Content root path: C:\Users\sprtj\Documents\GitHub\P7_Binot_Jonathan\P7CreateRestApi
2024-12-09 09:17:55.938 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-12-09 09:17:56.064 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 129.8013ms
2024-12-09 09:17:58.601 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-12-09 09:17:58.601 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-12-09 09:17:58.601 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.js - null null
2024-12-09 09:17:58.603 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.js - 200 null application/javascript;charset=utf-8 2.5225ms
2024-12-09 09:17:58.610 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 9.3024ms
2024-12-09 09:17:58.624 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.005ms
2024-12-09 09:17:59.548 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-12-09 09:17:59.636 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.211ms
2024-12-09 09:18:04.336 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Login/logout - null 0
2024-12-09 09:18:04.411 +01:00 [INF] Executing endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 09:18:04.430 +01:00 [INF] Route matched with {action = "Logout", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller P7CreateRestApi.Controllers.LoginController (P7CreateRestApi).
2024-12-09 09:18:04.591 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'P7CreateRestApi.Models.ApiResponse'.
2024-12-09 09:18:04.599 +01:00 [INF] Executed action P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi) in 165.5234ms
2024-12-09 09:18:04.599 +01:00 [INF] Executed endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 09:18:04.600 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Login/logout - 400 null application/json; charset=utf-8 264.3815ms
2024-12-09 09:18:18.977 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Login/login - application/json 80
2024-12-09 09:18:18.980 +01:00 [INF] Executing endpoint 'P7CreateRestApi.Controllers.LoginController.Login (P7CreateRestApi)'
2024-12-09 09:18:18.988 +01:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(P7CreateRestApi.Models.LoginModel) on controller P7CreateRestApi.Controllers.LoginController (P7CreateRestApi).
2024-12-09 09:18:19.019 +01:00 [INF] Tentative de connexion pour l'utilisateur user.
2024-12-09 09:18:20.422 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 09:18:20.638 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 09:18:20.663 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-09 09:18:20.674 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-09 09:18:20.689 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 09:18:20.708 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-09 09:18:20.709 +01:00 [INF] Connexion réussie pour l'utilisateur user.
2024-12-09 09:18:20.716 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 09:18:20.718 +01:00 [INF] Début de la génération du jeton JWT pour l'utilisateur user (ID: 2)
2024-12-09 09:18:20.721 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 09:18:20.721 +01:00 [INF] Récupération des revendications pour l'utilisateur user. Total: 0
2024-12-09 09:18:20.723 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-09 09:18:20.723 +01:00 [INF] Récupération des rôles pour l'utilisateur user. Total: 1.
2024-12-09 09:18:20.723 +01:00 [INF] user a le rôle User
2024-12-09 09:18:20.723 +01:00 [INF] Les revendications et les rôles ont été ajoutés aux claims du jeton pour l'utilisateur user.
2024-12-09 09:18:20.724 +01:00 [INF] Clé de sécurité et informations d'identification de signature créées pour le jeton.
2024-12-09 09:18:20.727 +01:00 [INF] Le jeton JWT a été généré avec succès pour l'utilisateur user.
2024-12-09 09:18:20.742 +01:00 [INF] Token JWT généré avec succès pour l'utilisateur user.
2024-12-09 09:18:20.744 +01:00 [INF] Executing OkObjectResult, writing value of type 'P7CreateRestApi.Models.ApiResponse'.
2024-12-09 09:18:20.745 +01:00 [INF] Executed action P7CreateRestApi.Controllers.LoginController.Login (P7CreateRestApi) in 1756.5801ms
2024-12-09 09:18:20.745 +01:00 [INF] Executed endpoint 'P7CreateRestApi.Controllers.LoginController.Login (P7CreateRestApi)'
2024-12-09 09:18:20.751 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Login/login - 200 null application/json; charset=utf-8 1773.6859ms
2024-12-09 09:18:34.426 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/BidList - null null
2024-12-09 09:18:34.465 +01:00 [INF] Token validated for user: null
2024-12-09 09:18:34.466 +01:00 [INF] Token non révoqué pour l'utilisateur null.
2024-12-09 09:18:34.473 +01:00 [INF] Executing endpoint 'P7CreateRestApi.Controllers.BidListController.GetAllBids (P7CreateRestApi)'
2024-12-09 09:18:34.476 +01:00 [INF] Route matched with {action = "GetAllBids", controller = "BidList"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBids() on controller P7CreateRestApi.Controllers.BidListController (P7CreateRestApi).
2024-12-09 09:18:34.478 +01:00 [INF] Tentative de récupération de tous les Bids.
2024-12-09 09:18:34.526 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BidListId], [b].[Account], [b].[Ask], [b].[AskQuantity], [b].[Benchmark], [b].[Bid], [b].[BidListDate], [b].[BidQuantity], [b].[BidSecurity], [b].[BidStatus], [b].[BidType], [b].[Book], [b].[Commentary], [b].[CreationDate], [b].[CreationName], [b].[DealName], [b].[DealType], [b].[RevisionDate], [b].[RevisionName], [b].[Side], [b].[SourceListId], [b].[Trader]
FROM [BidLists] AS [b]
2024-12-09 09:18:34.565 +01:00 [INF] 3 Bids récupérés avec succès.
2024-12-09 09:18:34.565 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[P7CreateRestApi.Domain.BidList, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 09:18:34.584 +01:00 [INF] Executed action P7CreateRestApi.Controllers.BidListController.GetAllBids (P7CreateRestApi) in 108.0639ms
2024-12-09 09:18:34.584 +01:00 [INF] Executed endpoint 'P7CreateRestApi.Controllers.BidListController.GetAllBids (P7CreateRestApi)'
2024-12-09 09:18:34.584 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/BidList - 200 null application/json; charset=utf-8 158.6303ms
2024-12-09 09:18:39.956 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/BidList - null null
2024-12-09 09:18:39.958 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User|Admin)
2024-12-09 09:18:39.962 +01:00 [WRN] Unauthorized access attempt to /BidList
2024-12-09 09:18:39.963 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-09 09:18:39.963 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/BidList - 401 0 null 7.9368ms
2024-12-09 09:18:44.985 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/BidList - null null
2024-12-09 09:18:44.986 +01:00 [INF] Token validated for user: null
2024-12-09 09:18:44.986 +01:00 [INF] Token non révoqué pour l'utilisateur null.
2024-12-09 09:18:44.987 +01:00 [INF] Executing endpoint 'P7CreateRestApi.Controllers.BidListController.GetAllBids (P7CreateRestApi)'
2024-12-09 09:18:44.988 +01:00 [INF] Route matched with {action = "GetAllBids", controller = "BidList"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBids() on controller P7CreateRestApi.Controllers.BidListController (P7CreateRestApi).
2024-12-09 09:18:44.988 +01:00 [INF] Tentative de récupération de tous les Bids.
2024-12-09 09:18:45.003 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BidListId], [b].[Account], [b].[Ask], [b].[AskQuantity], [b].[Benchmark], [b].[Bid], [b].[BidListDate], [b].[BidQuantity], [b].[BidSecurity], [b].[BidStatus], [b].[BidType], [b].[Book], [b].[Commentary], [b].[CreationDate], [b].[CreationName], [b].[DealName], [b].[DealType], [b].[RevisionDate], [b].[RevisionName], [b].[Side], [b].[SourceListId], [b].[Trader]
FROM [BidLists] AS [b]
2024-12-09 09:18:45.004 +01:00 [INF] 3 Bids récupérés avec succès.
2024-12-09 09:18:45.004 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[P7CreateRestApi.Domain.BidList, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 09:18:45.004 +01:00 [INF] Executed action P7CreateRestApi.Controllers.BidListController.GetAllBids (P7CreateRestApi) in 16.3004ms
2024-12-09 09:18:45.004 +01:00 [INF] Executed endpoint 'P7CreateRestApi.Controllers.BidListController.GetAllBids (P7CreateRestApi)'
2024-12-09 09:18:45.004 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/BidList - 200 null application/json; charset=utf-8 19.5583ms
2024-12-09 09:18:48.673 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Login/logout - null 0
2024-12-09 09:18:48.674 +01:00 [INF] Token validated for user: null
2024-12-09 09:18:48.674 +01:00 [INF] Token non révoqué pour l'utilisateur null.
2024-12-09 09:18:48.674 +01:00 [INF] Executing endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 09:18:48.674 +01:00 [INF] Route matched with {action = "Logout", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller P7CreateRestApi.Controllers.LoginController (P7CreateRestApi).
2024-12-09 09:18:48.686 +01:00 [INF] Déconnexion de l'utilisateur.
2024-12-09 09:18:48.686 +01:00 [INF] Token révoqué : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIiwianRpIjoiYjI4MGEwOTAtZTgxZS00NjI3LTg5ZGItZjQyZmJkN2ViZmE2IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiIyIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiVXNlciIsImV4cCI6MTczMzczMjM2MCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NzIxMCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjcyMTAifQ.HNZ8H93mdUccyukhKmBgUn6lcNTOG-87T3JqpYmEp0I - Déconnexion réussie
2024-12-09 09:18:48.686 +01:00 [INF] Executing OkObjectResult, writing value of type 'P7CreateRestApi.Models.ApiResponse'.
2024-12-09 09:18:48.686 +01:00 [INF] Executed action P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi) in 12.2065ms
2024-12-09 09:18:48.686 +01:00 [INF] Executed endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 09:18:48.686 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Login/logout - 200 null application/json; charset=utf-8 13.6662ms
2024-12-09 09:18:54.082 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/BidList - null null
2024-12-09 09:18:54.083 +01:00 [INF] Token validated for user: null
2024-12-09 09:18:54.083 +01:00 [WRN] Token révoqué détecté pour l'utilisateur null.
2024-12-09 09:18:54.083 +01:00 [INF] Bearer was not authenticated. Failure message: Token révoqué.
2024-12-09 09:18:54.083 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User|Admin)
2024-12-09 09:18:54.084 +01:00 [WRN] Unauthorized access attempt to /BidList
2024-12-09 09:18:54.084 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-09 09:18:54.084 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/BidList - 401 0 null 2.4371ms
2024-12-09 11:06:30.930 +01:00 [INF] Démarrage de l'application
2024-12-09 11:06:31.013 +01:00 [INF] User profile is available. Using 'C:\Users\sprtj\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 11:06:31.361 +01:00 [INF] Now listening on: https://localhost:7210
2024-12-09 11:06:31.361 +01:00 [INF] Now listening on: http://localhost:5267
2024-12-09 11:06:31.415 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-09 11:06:31.416 +01:00 [INF] Hosting environment: Development
2024-12-09 11:06:31.416 +01:00 [INF] Content root path: C:\Users\sprtj\Documents\GitHub\P7_Binot_Jonathan\P7CreateRestApi
2024-12-09 11:06:32.484 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-12-09 11:06:32.734 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 254.0162ms
2024-12-09 11:06:32.799 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-12-09 11:06:32.809 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 10.0818ms
2024-12-09 11:06:32.818 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.js - null null
2024-12-09 11:06:32.821 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.js - 200 null application/javascript;charset=utf-8 2.5672ms
2024-12-09 11:06:33.865 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-12-09 11:06:33.900 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.3623ms
2024-12-09 11:06:36.178 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-12-09 11:06:36.297 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 119.9537ms
2024-12-09 11:07:45.808 +01:00 [INF] Démarrage de l'application
2024-12-09 11:07:45.939 +01:00 [INF] User profile is available. Using 'C:\Users\sprtj\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 11:07:46.105 +01:00 [INF] Now listening on: https://localhost:7210
2024-12-09 11:07:46.105 +01:00 [INF] Now listening on: http://localhost:5267
2024-12-09 11:07:46.141 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-09 11:07:46.141 +01:00 [INF] Hosting environment: Development
2024-12-09 11:07:46.141 +01:00 [INF] Content root path: C:\Users\sprtj\Documents\GitHub\P7_Binot_Jonathan\P7CreateRestApi
2024-12-09 11:07:47.424 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-12-09 11:07:47.617 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 197.7538ms
2024-12-09 11:07:47.673 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-12-09 11:07:47.673 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.js - null null
2024-12-09 11:07:47.675 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.js - 200 null application/javascript;charset=utf-8 2.5785ms
2024-12-09 11:07:47.681 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 8.2834ms
2024-12-09 11:07:47.694 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-12-09 11:07:47.731 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.6895ms
2024-12-09 11:07:47.772 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-12-09 11:07:47.892 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 119.8579ms
2024-12-09 11:08:01.259 +01:00 [INF] Démarrage de l'application
2024-12-09 11:08:01.304 +01:00 [INF] User profile is available. Using 'C:\Users\sprtj\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 11:08:01.478 +01:00 [INF] Now listening on: https://localhost:7210
2024-12-09 11:08:01.478 +01:00 [INF] Now listening on: http://localhost:5267
2024-12-09 11:08:01.513 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-09 11:08:01.514 +01:00 [INF] Hosting environment: Development
2024-12-09 11:08:01.514 +01:00 [INF] Content root path: C:\Users\sprtj\Documents\GitHub\P7_Binot_Jonathan\P7CreateRestApi
2024-12-09 11:08:02.392 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-12-09 11:08:02.524 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 135.4101ms
2024-12-09 11:08:02.590 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-12-09 11:08:02.590 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.js - null null
2024-12-09 11:08:02.592 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.js - 200 null application/javascript;charset=utf-8 1.9961ms
2024-12-09 11:08:02.597 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 7.8258ms
2024-12-09 11:08:02.610 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-12-09 11:08:02.649 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.1673ms
2024-12-09 11:08:02.702 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-12-09 11:08:02.817 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.3173ms
2024-12-09 11:08:06.405 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/BidList - null null
2024-12-09 11:08:06.481 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User|Admin)
2024-12-09 11:08:06.485 +01:00 [WRN] Unauthorized access attempt to /BidList
2024-12-09 11:08:06.487 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-09 11:08:06.487 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/BidList - 401 0 null 82.8671ms
2024-12-09 11:08:22.770 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Login/login - application/json 80
2024-12-09 11:08:22.777 +01:00 [INF] Executing endpoint 'P7CreateRestApi.Controllers.LoginController.Login (P7CreateRestApi)'
2024-12-09 11:08:22.813 +01:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(P7CreateRestApi.Models.LoginModel) on controller P7CreateRestApi.Controllers.LoginController (P7CreateRestApi).
2024-12-09 11:08:23.029 +01:00 [INF] Tentative de connexion pour l'utilisateur User.
2024-12-09 11:08:24.672 +01:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 11:08:24.862 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:08:24.886 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-09 11:08:24.896 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-09 11:08:24.914 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:08:24.933 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-09 11:08:24.935 +01:00 [INF] Connexion réussie pour l'utilisateur User.
2024-12-09 11:08:24.938 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 11:08:24.941 +01:00 [INF] Début de la génération du jeton JWT pour l'utilisateur user (ID: 2)
2024-12-09 11:08:24.943 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:08:24.943 +01:00 [INF] Récupération des revendications pour l'utilisateur user. Total: 0
2024-12-09 11:08:24.945 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-09 11:08:24.945 +01:00 [INF] Récupération des rôles pour l'utilisateur user. Total: 1.
2024-12-09 11:08:24.945 +01:00 [INF] user a le rôle User
2024-12-09 11:08:24.945 +01:00 [INF] Les revendications et les rôles ont été ajoutés aux claims du jeton pour l'utilisateur user.
2024-12-09 11:08:24.946 +01:00 [INF] Clé de sécurité et informations d'identification de signature créées pour le jeton.
2024-12-09 11:08:24.950 +01:00 [INF] Le jeton JWT a été généré avec succès pour l'utilisateur user.
2024-12-09 11:08:24.969 +01:00 [INF] Token JWT généré avec succès pour l'utilisateur User.
2024-12-09 11:08:24.979 +01:00 [INF] Executing OkObjectResult, writing value of type 'P7CreateRestApi.Models.ApiResponse'.
2024-12-09 11:08:24.985 +01:00 [INF] Executed action P7CreateRestApi.Controllers.LoginController.Login (P7CreateRestApi) in 2168.0866ms
2024-12-09 11:08:24.986 +01:00 [INF] Executed endpoint 'P7CreateRestApi.Controllers.LoginController.Login (P7CreateRestApi)'
2024-12-09 11:08:24.993 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Login/login - 200 null application/json; charset=utf-8 2223.5668ms
2024-12-09 11:08:35.314 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/BidList - null null
2024-12-09 11:08:35.352 +01:00 [INF] Token validated for user: null
2024-12-09 11:08:35.352 +01:00 [INF] Token non révoqué pour l'utilisateur null.
2024-12-09 11:08:35.356 +01:00 [INF] Executing endpoint 'P7CreateRestApi.Controllers.BidListController.GetAllBids (P7CreateRestApi)'
2024-12-09 11:08:35.359 +01:00 [INF] Route matched with {action = "GetAllBids", controller = "BidList"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBids() on controller P7CreateRestApi.Controllers.BidListController (P7CreateRestApi).
2024-12-09 11:08:35.361 +01:00 [INF] Tentative de récupération de tous les Bids.
2024-12-09 11:08:35.427 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BidListId], [b].[Account], [b].[Ask], [b].[AskQuantity], [b].[Benchmark], [b].[Bid], [b].[BidListDate], [b].[BidQuantity], [b].[BidSecurity], [b].[BidStatus], [b].[BidType], [b].[Book], [b].[Commentary], [b].[CreationDate], [b].[CreationName], [b].[DealName], [b].[DealType], [b].[RevisionDate], [b].[RevisionName], [b].[Side], [b].[SourceListId], [b].[Trader]
FROM [BidLists] AS [b]
2024-12-09 11:08:35.467 +01:00 [INF] 3 Bids récupérés avec succès.
2024-12-09 11:08:35.468 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[P7CreateRestApi.Domain.BidList, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:08:35.484 +01:00 [INF] Executed action P7CreateRestApi.Controllers.BidListController.GetAllBids (P7CreateRestApi) in 125.1017ms
2024-12-09 11:08:35.485 +01:00 [INF] Executed endpoint 'P7CreateRestApi.Controllers.BidListController.GetAllBids (P7CreateRestApi)'
2024-12-09 11:08:35.485 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/BidList - 200 null application/json; charset=utf-8 171.6207ms
2024-12-09 11:08:52.352 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Login/logout - null 0
2024-12-09 11:08:52.354 +01:00 [INF] Token validated for user: null
2024-12-09 11:08:52.354 +01:00 [INF] Token non révoqué pour l'utilisateur null.
2024-12-09 11:08:52.355 +01:00 [INF] Executing endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 11:08:52.359 +01:00 [INF] Route matched with {action = "Logout", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller P7CreateRestApi.Controllers.LoginController (P7CreateRestApi).
2024-12-09 11:08:52.363 +01:00 [INF] Déconnexion de l'utilisateur.
2024-12-09 11:08:52.363 +01:00 [INF] Token révoqué : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIiwianRpIjoiMjBjOTE1ODgtMzQ4My00NzZmLWFmOGMtNzM3YmIxNzQzZWEzIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiIyIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiVXNlciIsImV4cCI6MTczMzczOTUwNCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NzIxMCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjcyMTAifQ.qMySLj8r5kjv4YuK7Eg47QzkM1nORvuF1ovIFXlYFSc - Déconnexion réussie
2024-12-09 11:08:52.363 +01:00 [INF] Executing OkObjectResult, writing value of type 'P7CreateRestApi.Models.ApiResponse'.
2024-12-09 11:08:52.363 +01:00 [INF] Executed action P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi) in 3.9772ms
2024-12-09 11:08:52.363 +01:00 [INF] Executed endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 11:08:52.363 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Login/logout - 200 null application/json; charset=utf-8 11.5946ms
2024-12-09 11:09:02.028 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/BidList - null null
2024-12-09 11:09:02.029 +01:00 [INF] Token validated for user: null
2024-12-09 11:09:02.029 +01:00 [WRN] Token révoqué détecté pour l'utilisateur null.
2024-12-09 11:09:02.030 +01:00 [INF] Bearer was not authenticated. Failure message: Token révoqué.
2024-12-09 11:09:02.031 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User|Admin)
2024-12-09 11:09:02.032 +01:00 [WRN] Unauthorized access attempt to /BidList
2024-12-09 11:09:02.033 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-09 11:09:02.033 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/BidList - 401 0 null 4.85ms
2024-12-09 11:09:13.005 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Login/login - application/json 80
2024-12-09 11:09:13.005 +01:00 [INF] Token validated for user: null
2024-12-09 11:09:13.005 +01:00 [WRN] Token révoqué détecté pour l'utilisateur null.
2024-12-09 11:09:13.005 +01:00 [INF] Bearer was not authenticated. Failure message: Token révoqué.
2024-12-09 11:09:13.005 +01:00 [INF] Executing endpoint 'P7CreateRestApi.Controllers.LoginController.Login (P7CreateRestApi)'
2024-12-09 11:09:13.006 +01:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(P7CreateRestApi.Models.LoginModel) on controller P7CreateRestApi.Controllers.LoginController (P7CreateRestApi).
2024-12-09 11:09:13.018 +01:00 [INF] Tentative de connexion pour l'utilisateur User.
2024-12-09 11:09:13.039 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 11:09:13.103 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:09:13.107 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-09 11:09:13.109 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-09 11:09:13.112 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:09:13.114 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-09 11:09:13.114 +01:00 [INF] Connexion réussie pour l'utilisateur User.
2024-12-09 11:09:13.116 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 11:09:13.116 +01:00 [INF] Début de la génération du jeton JWT pour l'utilisateur user (ID: 2)
2024-12-09 11:09:13.117 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:09:13.117 +01:00 [INF] Récupération des revendications pour l'utilisateur user. Total: 0
2024-12-09 11:09:13.119 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-09 11:09:13.119 +01:00 [INF] Récupération des rôles pour l'utilisateur user. Total: 1.
2024-12-09 11:09:13.119 +01:00 [INF] user a le rôle User
2024-12-09 11:09:13.119 +01:00 [INF] Les revendications et les rôles ont été ajoutés aux claims du jeton pour l'utilisateur user.
2024-12-09 11:09:13.119 +01:00 [INF] Clé de sécurité et informations d'identification de signature créées pour le jeton.
2024-12-09 11:09:13.119 +01:00 [INF] Le jeton JWT a été généré avec succès pour l'utilisateur user.
2024-12-09 11:09:13.119 +01:00 [INF] Token JWT généré avec succès pour l'utilisateur User.
2024-12-09 11:09:13.120 +01:00 [INF] Executing OkObjectResult, writing value of type 'P7CreateRestApi.Models.ApiResponse'.
2024-12-09 11:09:13.120 +01:00 [INF] Executed action P7CreateRestApi.Controllers.LoginController.Login (P7CreateRestApi) in 114.1085ms
2024-12-09 11:09:13.120 +01:00 [INF] Executed endpoint 'P7CreateRestApi.Controllers.LoginController.Login (P7CreateRestApi)'
2024-12-09 11:09:13.120 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Login/login - 200 null application/json; charset=utf-8 115.7148ms
2024-12-09 11:09:28.266 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/BidList - null null
2024-12-09 11:09:28.266 +01:00 [INF] Token validated for user: null
2024-12-09 11:09:28.266 +01:00 [INF] Token non révoqué pour l'utilisateur null.
2024-12-09 11:09:28.267 +01:00 [INF] Executing endpoint 'P7CreateRestApi.Controllers.BidListController.GetAllBids (P7CreateRestApi)'
2024-12-09 11:09:28.267 +01:00 [INF] Route matched with {action = "GetAllBids", controller = "BidList"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBids() on controller P7CreateRestApi.Controllers.BidListController (P7CreateRestApi).
2024-12-09 11:09:28.267 +01:00 [INF] Tentative de récupération de tous les Bids.
2024-12-09 11:09:28.272 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BidListId], [b].[Account], [b].[Ask], [b].[AskQuantity], [b].[Benchmark], [b].[Bid], [b].[BidListDate], [b].[BidQuantity], [b].[BidSecurity], [b].[BidStatus], [b].[BidType], [b].[Book], [b].[Commentary], [b].[CreationDate], [b].[CreationName], [b].[DealName], [b].[DealType], [b].[RevisionDate], [b].[RevisionName], [b].[Side], [b].[SourceListId], [b].[Trader]
FROM [BidLists] AS [b]
2024-12-09 11:09:28.273 +01:00 [INF] 3 Bids récupérés avec succès.
2024-12-09 11:09:28.273 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[P7CreateRestApi.Domain.BidList, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:09:28.273 +01:00 [INF] Executed action P7CreateRestApi.Controllers.BidListController.GetAllBids (P7CreateRestApi) in 6.3656ms
2024-12-09 11:09:28.273 +01:00 [INF] Executed endpoint 'P7CreateRestApi.Controllers.BidListController.GetAllBids (P7CreateRestApi)'
2024-12-09 11:09:28.273 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/BidList - 200 null application/json; charset=utf-8 7.9337ms
2024-12-09 11:09:54.447 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Login/logout - null 0
2024-12-09 11:09:54.451 +01:00 [INF] Token validated for user: null
2024-12-09 11:09:54.451 +01:00 [INF] Token non révoqué pour l'utilisateur null.
2024-12-09 11:09:54.452 +01:00 [INF] Executing endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 11:09:54.452 +01:00 [INF] Route matched with {action = "Logout", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller P7CreateRestApi.Controllers.LoginController (P7CreateRestApi).
2024-12-09 11:09:54.452 +01:00 [INF] Déconnexion de l'utilisateur.
2024-12-09 11:09:54.453 +01:00 [INF] Token révoqué : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIiwianRpIjoiMWQ3N2Y1YmYtZTZiNy00OTU4LWI0NzktZDJiMTZmMGZlYWUyIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiIyIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiVXNlciIsImV4cCI6MTczMzczOTU1MywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NzIxMCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjcyMTAifQ.l80daP32A4DhFfq-qIekvegXCy8PROtNKRiA0zB32nc - Déconnexion réussie
2024-12-09 11:09:54.453 +01:00 [INF] Executing OkObjectResult, writing value of type 'P7CreateRestApi.Models.ApiResponse'.
2024-12-09 11:09:54.453 +01:00 [INF] Executed action P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi) in 0.9795ms
2024-12-09 11:09:54.453 +01:00 [INF] Executed endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 11:09:54.453 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Login/logout - 200 null application/json; charset=utf-8 6.3421ms
2024-12-09 11:10:05.375 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7210/BidList - null null
2024-12-09 11:10:05.376 +01:00 [INF] Token validated for user: null
2024-12-09 11:10:05.376 +01:00 [WRN] Token révoqué détecté pour l'utilisateur null.
2024-12-09 11:10:05.376 +01:00 [INF] Bearer was not authenticated. Failure message: Token révoqué.
2024-12-09 11:10:05.376 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User|Admin)
2024-12-09 11:10:05.376 +01:00 [WRN] Unauthorized access attempt to /BidList
2024-12-09 11:10:05.376 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-09 11:10:05.376 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7210/BidList - 401 0 null 1.114ms
2024-12-09 11:18:35.117 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Login/logout - null 0
2024-12-09 11:18:35.121 +01:00 [INF] Token validated for user: null
2024-12-09 11:18:35.121 +01:00 [WRN] Token révoqué détecté pour l'utilisateur null.
2024-12-09 11:18:35.121 +01:00 [INF] Bearer was not authenticated. Failure message: Token révoqué.
2024-12-09 11:18:35.121 +01:00 [INF] Executing endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 11:18:35.121 +01:00 [INF] Route matched with {action = "Logout", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller P7CreateRestApi.Controllers.LoginController (P7CreateRestApi).
2024-12-09 11:18:35.121 +01:00 [INF] Déconnexion de l'utilisateur.
2024-12-09 11:18:35.122 +01:00 [INF] Token révoqué : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIiwianRpIjoiMWQ3N2Y1YmYtZTZiNy00OTU4LWI0NzktZDJiMTZmMGZlYWUyIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiIyIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiVXNlciIsImV4cCI6MTczMzczOTU1MywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NzIxMCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjcyMTAifQ.l80daP32A4DhFfq-qIekvegXCy8PROtNKRiA0zB32nc - Déconnexion réussie
2024-12-09 11:18:35.122 +01:00 [INF] Executing OkObjectResult, writing value of type 'P7CreateRestApi.Models.ApiResponse'.
2024-12-09 11:18:35.122 +01:00 [INF] Executed action P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi) in 0.9521ms
2024-12-09 11:18:35.122 +01:00 [INF] Executed endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 11:18:35.122 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Login/logout - 200 null application/json; charset=utf-8 5.297ms
2024-12-09 11:18:36.167 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Login/logout - null 0
2024-12-09 11:18:36.167 +01:00 [INF] Token validated for user: null
2024-12-09 11:18:36.167 +01:00 [WRN] Token révoqué détecté pour l'utilisateur null.
2024-12-09 11:18:36.167 +01:00 [INF] Bearer was not authenticated. Failure message: Token révoqué.
2024-12-09 11:18:36.168 +01:00 [INF] Executing endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 11:18:36.168 +01:00 [INF] Route matched with {action = "Logout", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller P7CreateRestApi.Controllers.LoginController (P7CreateRestApi).
2024-12-09 11:18:36.168 +01:00 [INF] Déconnexion de l'utilisateur.
2024-12-09 11:18:36.168 +01:00 [INF] Token révoqué : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIiwianRpIjoiMWQ3N2Y1YmYtZTZiNy00OTU4LWI0NzktZDJiMTZmMGZlYWUyIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiIyIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiVXNlciIsImV4cCI6MTczMzczOTU1MywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NzIxMCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjcyMTAifQ.l80daP32A4DhFfq-qIekvegXCy8PROtNKRiA0zB32nc - Déconnexion réussie
2024-12-09 11:18:36.168 +01:00 [INF] Executing OkObjectResult, writing value of type 'P7CreateRestApi.Models.ApiResponse'.
2024-12-09 11:18:36.168 +01:00 [INF] Executed action P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi) in 0.5318ms
2024-12-09 11:18:36.168 +01:00 [INF] Executed endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 11:18:36.168 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Login/logout - 200 null application/json; charset=utf-8 1.98ms
2024-12-09 11:18:40.756 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Login/logout - null 0
2024-12-09 11:18:40.757 +01:00 [INF] Token validated for user: null
2024-12-09 11:18:40.757 +01:00 [WRN] Token révoqué détecté pour l'utilisateur null.
2024-12-09 11:18:40.757 +01:00 [INF] Bearer was not authenticated. Failure message: Token révoqué.
2024-12-09 11:18:40.757 +01:00 [INF] Executing endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 11:18:40.757 +01:00 [INF] Route matched with {action = "Logout", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller P7CreateRestApi.Controllers.LoginController (P7CreateRestApi).
2024-12-09 11:18:40.757 +01:00 [INF] Déconnexion de l'utilisateur.
2024-12-09 11:18:40.757 +01:00 [INF] Token révoqué : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIiwianRpIjoiMWQ3N2Y1YmYtZTZiNy00OTU4LWI0NzktZDJiMTZmMGZlYWUyIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiIyIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiVXNlciIsImV4cCI6MTczMzczOTU1MywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NzIxMCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjcyMTAifQ.l80daP32A4DhFfq-qIekvegXCy8PROtNKRiA0zB32nc - Déconnexion réussie
2024-12-09 11:18:40.757 +01:00 [INF] Executing OkObjectResult, writing value of type 'P7CreateRestApi.Models.ApiResponse'.
2024-12-09 11:18:40.758 +01:00 [INF] Executed action P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi) in 0.49ms
2024-12-09 11:18:40.758 +01:00 [INF] Executed endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 11:18:40.758 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Login/logout - 200 null application/json; charset=utf-8 1.524ms
2024-12-09 11:18:48.168 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Login/logout - null 0
2024-12-09 11:18:48.169 +01:00 [INF] Executing endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 11:18:48.169 +01:00 [INF] Route matched with {action = "Logout", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller P7CreateRestApi.Controllers.LoginController (P7CreateRestApi).
2024-12-09 11:18:48.169 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'P7CreateRestApi.Models.ApiResponse'.
2024-12-09 11:18:48.170 +01:00 [INF] Executed action P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi) in 0.8175ms
2024-12-09 11:18:48.170 +01:00 [INF] Executed endpoint 'P7CreateRestApi.Controllers.LoginController.Logout (P7CreateRestApi)'
2024-12-09 11:18:48.170 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Login/logout - 400 null application/json; charset=utf-8 1.6372ms
